<div id="tools-side" style="display:block;height:100%">
  <div id="tools-minimized">
      <div>
          <img alt="menu" style="width:28px;position:absolute;top:10px;left:10px" src="./img/bars.svg" />
      </div>
  </div>

  <div id="tools-maximized" style="display:flex;flex-direction:column;height:100%">

      <!-- tools hide/show, display left/right -->
      <div id="headerBlock" style="flex:0 1 28px;background:#333">
          <div style="display:flex">
              <div style="flex:0 0 28px"><div id="display-minimize" title="Minimize toolbar" class="a push noBorder"><img class="icon" alt="close" src="./img/times-circle.svg" /></div></div>
              <div style="flex:1 1 auto"></div>
              <div style="flex:0 0 28px"><div id="display-left" title="Display to the left" class="a push noBorder"><img class="icon" alt="left" src="./img/caret-square-o-left.svg" /></div></div>
              <div style="flex:0 0 28px"><div id="display-right" title="Display to the right" class="a push noBorder"><img class="icon" alt="right" src="./img/caret-square-o-right.svg" /></div></div>
          </div>
      </div>

      <!-- slider -->
      <div id="sliderBlock" style="flex:0 0 28px">
          <div style="display:flex">
              <div style="flex:0 0 28px">
                  <div id="prev" class="a push">-</div>
              </div>
              <div style="flex:1 0 28px;display:flex">
                  <div style="flex:1;position:relative">
                      <div id="slice" class="slider" data-max="100" data-val="0" style="position:absolute;height:100%;margin-left:10px;width:calc(100% - 20px)">
                          <div class="track" style="position:absolute;left:0;top:50%;width:100%;border-top:1px solid #fff;padding:0;display:inline-block"></div>
                          <div class="thumb" style="position:absolute;left:0;top:50%;transform:translate(-10px,-10px);border-radius:10px;padding:0;width:20px;height:20px;background:#fff;display:inline-block"></div>
                      </div>
                  </div>
              </div>
              <div style="flex:0 0 28px">
                  <div id="next" class="a push">+</div>
              </div>
          </div>
      </div>

      <!-- buttons -->
      <div id="buttonsBlock" style="flex:0 0 auto">
          <div style="display:flex;flex-wrap:wrap">

              <div style="flex:1 0 250px;width:50px">
                  <div id="plane" style="display:flex" class="chose">
                      <div style="flex:1"><div title="sag" class="a sub pressed">Sag</div></div>
                      <div style="flex:1"><div title="cor" class="a sub">Cor</div></div>
                      <div style="flex:1"><div title="axi" class="a sub">Axi</div></div>
                  </div>
                  <div style="display:flex">
                      <div style="flex:1"><div id="fullscreen" title="Full screen" class="a toggle"><img class="icon" alt="fullscreen" src="./img/fullscreen.svg" /></div></div>
                      <div style="flex:1"><div id="3drender" title="3D render" class="a push"><img class="icon" alt="3d render" src="./img/3drender.svg" /></div></div>
                      <div id="text" style="flex:2;display:flex" class="chose">
                          <div style="flex:1"><div id="bubble" title="Chat" class="a sub pressed"><img class="icon" alt="chat" src="./img/chat.svg" /></div></div>
                          <div style="flex:1"><div id="script" title="Script" class="a sub"><img class="icon" alt="script" src="./img/scroll.svg" /></div></div>
                      </div>
                      <div style="flex:1"><div id="link" title="Link" class="a push"><img class="icon" alt="link" src="./img/link.svg" /></div></div>
                      <div style="flex:1"><div id="precise" title="Precise cursor" class="a toggle"><img class="icon" alt="precise cursor" src="./img/preciseCursor.svg" /></div></div>
                  </div>
              </div>

              <div style="flex:1 0 250px;width:50px">
                  <div id="paintTool" style="display:flex" class="chose">
                      <div style="flex:1"><div title="Show" class="a sub pressed"><img class="icon" alt="show" src="./img/show.svg" /></div></div>
                      <div style="flex:1"><div title="Paint" class="a sub"><img class="icon" alt="paint" src="./img/paint.svg" /></div></div>
                      <div style="flex:1"><div title="Erase" class="a sub"><img class="icon" alt="erase" src="./img/erase.svg" /></div></div>
                      <div style="flex:1"><div title="Landmark" class="a sub"><img class="icon" alt="landmark" src="./img/landmark.svg" /></div></div>
                      <div style="flex:1"><div title="Measure" class="a sub"><img class="icon" alt="ruler" src="./img/ruler.svg" /></div></div>
                      <div style="flex:1"><div title="Adjust" class="a sub"><img class="icon" alt="adjust" src="./img/adjust.svg" /></div></div>
                      <div style="flex:1"><div title="Eyedrop" class="a sub"><img class="icon" alt="eyedropper" src="./img/eyedropper.svg" /></div></div>
                  </div>
                  <div style="display:flex">
                      <div style="flex:1"><div id="color" title="Color" style="height:24px;background:#f00" class="a push"></div></div>
                      <div style="flex:1"><div id="fill" class="a toggle"><img class="icon" alt="fill" src="./img/fill.svg" /></div></div>
                      <div style="flex:1"><div id="undo" title="Undo" class="a push"><img class="icon" alt="undo" src="./img/undo.svg" /></div></div>
                      <div style="flex:1"><div id="upload" title="Upload" class="a push"><img class="icon" alt="upload" src="./img/upload.svg" /></div></div>
                      <div style="flex:1"><div id="download" title="Download" class="a push"><img class="icon" alt="download" src="./img/download.svg" /></div></div>
                      <div style="flex:1"><div id="save" title="Save" class="a push"><img class="icon" alt="save" src="./img/floppy.svg" /></div></div>
                  </div>
              </div>

          </div>
      </div>

      <!-- pen size -->
      <div id="penSizeBlock" style="flex:0 0 28px">
          <div style="display:flex" class="chose" id="penSize">
              <div style="flex:1"><div title="1" class="a sub pressed">1</div></div>
              <div style="flex:1"><div title="2" class="a sub">2</div></div>
              <div style="flex:1"><div title="3" class="a sub">3</div></div>
              <div style="flex:1"><div title="5" class="a sub">5</div></div>
              <div style="flex:1"><div title="10" class="a sub">10</div></div>
              <div style="flex:1"><div title="15" class="a sub">15</div></div>
          </div>
      </div>

      <!-- notifications -->
      <div id="notificationsBlock" style="flex:0 1 auto;position:relative;display:flex">
          <div style="flex:1 1 28px"><div id="notifications" class="label">Chat (disconnected)</div></div>
      </div>

      <!-- text input -->
      <script src="https://unpkg.com/codeflask/build/codeflask.min.js"></script>
      <script src="https://cdn.jsdelivr.net/gh/r03ert0/consolita.js@v0.1.1/consolita.js"></script>

      <!-- long-press event -->
      <script src="https://cdn.jsdelivr.net/gh/john-doherty/long-press-event@2.1.0/dist/long-press-event.min.js"></script>
      <style>
          .token.message {
              color: red;
          }
          .codeflask__flatten {
              white-space: pre-wrap;
              word-wrap: break-word;
              caret-color:white;
              font-size:inherit;
          }
          .codeflask {
              background:rgba(0,0,0,1);
              position: relative;
          }
          #logChat:not(.hidden) {
              flex:1;
              height:auto;
              display:flex;
              flex-direction:column;
          }
      </style>
      <script>
          window.onload = () => {
              Consolita.init("#logScript");
          }
      </script>

      <div id="textInputBlock" style="flex:1 1 auto;position:relative;display:flex">
          <div id="textInputBlockContent" style="flex:1;display:flex;flex-direction:column">
              <div style="flex:1 1 80px;display:flex">
                  <div id="logChat">
                      <div style="flex:1 1 30px; overflow:scroll">
                          <div class="text" style="overflow:auto;height:100%"></div>
                      </div>
                      <div style="flex:0"><input id="msg" type="text" style="width:100%" /></div>
                  </div>
                  <div id="logScript" class="text hidden" style="flex:1;height:auto"></div>
              </div>
          </div>
      </div>

  </div>

</div>

<!-- Loading indicator -->
<div id="loadingIndicator">
  <p>Loading...</p>
  <div class="disc"></div>
</div>
<!-- End Loading indicator -->

<!-- Labels -->
<div id="labelset">
  <div style="z-index:23;text-align:right">
      <img id="labels-close" class="button" alt="close" src="./img/times-circle.svg"/>
  </div>

  <ul style="padding-left:1rem">
      <li>
          <b>Label Set</b><br/>
          <span id="labels-name"></span>
      </li>
      <li>
          <b>Labels</b><br/>
          <div id="label-list">
          </div>
          <div id="label-template">
              <div class="label-color"></div>
              <span class="label-name">Label Name</span>
          </div>
      </li>
  </ul>
</div>
<!-- End Labels -->

<!-- black overlay -->
<div id="landmarksDialog" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0.7);z-index:100">
  <!-- centered content -->
  <div style="position:relative;padding:1rem;margin:2rem auto;background-color:#333;max-width:600px;text-align:center;border:1px solid #777;height:calc(100% - 4rem);box-sizing:border-box">
    
    <h2 class="selection-header">Landmarks</h2>

    <!-- overflow: scroll -->
    <div style="display:inline-block;max-width:600px;padding:2rem;overflow:scroll;max-height:calc(100% - 10rem)">
      <table class="tabContent">
        <thead>
          <tr>
            <th>Label</th>
            <th>Voxel Coordinates</th>
            <th>World Coordinates</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
      <div style="text-align:right">
        <!--<img id="importLandmarks" class="button" style="width:20px; height:20px; margin:8 2 0 0" src="/img/upload-square.svg" title="upload csv" alt="upload csv"/>-->
        <img id="exportLandmarks" class="button" style="width:20px; height:20px; margin:8 2 0 0" src="/img/download-square.svg" title="download csv" alt="download csv"/>
        <!--<img id="addLandmark" class="button" style="width:20px; height:20px; margin:8 2 0 0" src="/img/plus-square.svg" title="add new landmark" alt="add new landmark entry"/>-->
        <img id="removeLandmark" class="button" style="width:20px; height:20px; margin:8 2 0 0" src="/img/minus-square.svg" title="remove landmark" alt="remove landmark entry"/>
      </div>  
    </div>

    <!-- Save/Cancel buttons -->
    <div style="display:block;margin:0 auto;max-width:200px">
        <h2 id="landmarksDialogOk" class="pushButton">Save</h2>
        <h2 id="landmarksDialogCancel" class="pushButton">Cancel</h2>
    </div>
  </div>
</div>

